import{S as L,i as M,s as O,x as z,a as I,l as _,u as D,y as A,c as T,m as h,p as g,h as m,v as H,q as l,z as B,b as P,J as u,T as F,U as J,f as R,t as j,C as G,L as K,w as Q,V as W}from"../../../chunks/index-b5f26bb7.js";import{H as X,s as x}from"../../../chunks/header-c0233845.js";import{s as Y}from"../../../chunks/api-17432085.js";function C(i){let t,o;return{c(){t=_("p"),o=D(i[0]),this.h()},l(s){t=h(s,"P",{class:!0});var e=g(t);o=H(e,i[0]),e.forEach(m),this.h()},h(){l(t,"class","error svelte-1rlduap")},m(s,e){P(s,t,e),u(t,o)},p(s,e){e&1&&Q(o,s[0])},d(s){s&&m(t)}}}function Z(i){let t,o,s,e,v,a,b,c,d,U,w,y,q,E,N,S;t=new X({});let n=i[0]&&C(i);return{c(){z(t.$$.fragment),o=I(),s=_("main"),e=_("form"),v=_("div"),a=_("input"),b=I(),c=_("div"),d=_("input"),U=I(),n&&n.c(),w=I(),y=_("button"),q=D("Sign In"),this.h()},l(r){A(t.$$.fragment,r),o=T(r),s=h(r,"MAIN",{class:!0});var p=g(s);e=h(p,"FORM",{method:!0,class:!0});var f=g(e);v=h(f,"DIV",{});var V=g(v);a=h(V,"INPUT",{id:!0,name:!0,type:!0,placeholder:!0,class:!0}),V.forEach(m),b=T(f),c=h(f,"DIV",{});var $=g(c);d=h($,"INPUT",{id:!0,name:!0,type:!0,placeholder:!0,class:!0}),$.forEach(m),U=T(f),n&&n.l(f),w=T(f),y=h(f,"BUTTON",{type:!0,class:!0});var k=g(y);q=H(k,"Sign In"),k.forEach(m),f.forEach(m),p.forEach(m),this.h()},h(){l(a,"id","username"),l(a,"name","username"),l(a,"type","text"),l(a,"placeholder","Username"),a.required=!0,l(a,"class","svelte-1rlduap"),l(d,"id","password"),l(d,"name","password"),l(d,"type","password"),l(d,"placeholder","Password"),d.required=!0,l(d,"class","svelte-1rlduap"),l(y,"type","submit"),l(y,"class","svelte-1rlduap"),l(e,"method","post"),l(e,"class","svelte-1rlduap"),l(s,"class","svelte-1rlduap")},m(r,p){B(t,r,p),P(r,o,p),P(r,s,p),u(s,e),u(e,v),u(v,a),u(e,b),u(e,c),u(c,d),u(e,U),n&&n.m(e,null),u(e,w),u(e,y),u(y,q),E=!0,N||(S=F(e,"submit",J(i[1])),N=!0)},p(r,[p]){r[0]?n?n.p(r,p):(n=C(r),n.c(),n.m(e,w)):n&&(n.d(1),n=null)},i(r){E||(R(t.$$.fragment,r),E=!0)},o(r){j(t.$$.fragment,r),E=!1},d(r){G(t,r),r&&m(o),r&&m(s),n&&n.d(),N=!1,S()}}}const ae=({session:i,props:t})=>i.user?{status:302,redirect:"/"}:{props:t};function ee(i,t,o){let s;K(i,x,a=>o(2,s=a));let{error:e}=t;async function v(a){const b=a.target,c=await Y(b);c.error&&o(0,e=c.error),W(x,s.user=c.user,s),b.reset()}return i.$$set=a=>{"error"in a&&o(0,e=a.error)},[e,v]}class ne extends L{constructor(t){super(),M(this,t,ee,Z,O,{error:0})}}export{ne as default,ae as load};
